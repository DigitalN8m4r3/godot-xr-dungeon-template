[gd_scene load_steps=8 format=3 uid="uid://xnp6x5ktenq2"]

[ext_resource type="Script" path="res://game/npcs/skeleton/skeleton.gd" id="1_nibk7"]
[ext_resource type="PackedScene" uid="uid://dmqdckiki03yh" path="res://assets/KevDev/skeleton/scene/skeleton.tscn" id="1_vhxqh"]
[ext_resource type="AudioStream" uid="uid://dj5y2wtrkcj3f" path="res://assets/freesound.org/337164__newagesoup__monster-laugh.wav" id="3_top2m"]
[ext_resource type="AudioStream" uid="uid://cmkixs5dix10d" path="res://assets/freesound.org/420252__redroxpeterpepper__step-skeleton.mp3" id="4_cqs3q"]
[ext_resource type="AudioStream" uid="uid://is0im3d2un2u" path="res://assets/freesound.org/369078__newagesoup__vsh-07-fist-slam-concrete-wall-long-reverb.wav" id="5_bsxur"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_wm71w"]
radius = 0.3

[sub_resource type="BoxShape3D" id="BoxShape3D_eocio"]
size = Vector3(0.4, 1, 0.4)

[node name="Skeleton" type="CharacterBody3D"]
collision_layer = 32
collision_mask = 33
script = ExtResource("1_nibk7")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_wm71w")

[node name="skeleton" parent="." instance=ExtResource("1_vhxqh")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="GeneralSkeleton" parent="skeleton/Armature" index="0"]
bones/1/rotation = Quaternion(5.96046e-08, -2.10734e-08, -2.10734e-08, 1)
bones/2/position = Vector3(-0.00489977, 0.164341, -0.742665)
bones/2/rotation = Quaternion(-0.637289, 0.120623, -0.113811, 0.752569)
bones/3/rotation = Quaternion(0.000200495, -0.0369091, 0.00373397, 0.999312)
bones/4/rotation = Quaternion(-0.000939342, -0.0369091, 0.00373384, 0.999311)
bones/5/rotation = Quaternion(0.343058, -0.0370921, 0.032414, 0.938022)
bones/6/rotation = Quaternion(-0.393407, 0.59279, -0.44523, 0.543693)
bones/7/rotation = Quaternion(-0.518856, -0.429973, 0.686829, 0.272358)
bones/8/rotation = Quaternion(-0.636849, -0.367937, -0.40524, 0.54298)
bones/9/rotation = Quaternion(-0.0491536, 0.910117, -0.303688, 0.277567)
bones/10/rotation = Quaternion(0.289784, -0.645915, 0.292119, 0.643029)
bones/11/rotation = Quaternion(-0.220821, 0.359147, -0.126557, 0.897906)
bones/13/rotation = Quaternion(0.224125, 0.049223, 0.000366777, 0.973317)
bones/14/rotation = Quaternion(0.194062, 0.0315142, -0.00261393, 0.980479)
bones/15/rotation = Quaternion(0.194423, 0.0293025, 0.00110468, 0.980479)
bones/16/rotation = Quaternion(-0.181167, 0.586105, 0.40484, 0.678059)
bones/17/rotation = Quaternion(-0.0600427, -0.0291044, -0.019029, 0.99759)
bones/18/rotation = Quaternion(-0.0574528, -0.0343034, -0.0183513, 0.99759)
bones/20/rotation = Quaternion(0.229412, -0.00181876, -0.00464654, 0.973317)
bones/21/rotation = Quaternion(0.196539, -0.00300685, 0.00480607, 0.98048)
bones/22/rotation = Quaternion(0.196591, -0.00232883, 0.0025689, 0.98048)
bones/24/rotation = Quaternion(0.227373, -0.0303497, -0.00592676, 0.973317)
bones/25/rotation = Quaternion(0.103731, -0.00846018, 0.00154069, 0.994568)
bones/26/rotation = Quaternion(0.103556, -0.0104408, 0.00105327, 0.994568)
bones/28/rotation = Quaternion(0.224104, -0.0493004, -0.00137609, 0.973317)
bones/29/rotation = Quaternion(0.0368134, -0.0124733, 0.00283861, 0.99924)
bones/30/rotation = Quaternion(0.0372899, -0.0110651, 0.0024277, 0.99924)
bones/31/position = Vector3(0.033718, 0.0938903, 0.0484997)
bones/31/rotation = Quaternion(0.018881, -0.00829256, 0.033106, 0.999239)
bones/32/rotation = Quaternion(0.629452, -0.374455, -0.402799, -0.548931)
bones/33/rotation = Quaternion(0.200581, 0.80528, -0.11295, 0.546382)
bones/34/rotation = Quaternion(0.376917, 0.599189, -0.379953, 0.595435)
bones/35/rotation = Quaternion(-0.494221, -0.749435, 0.233949, 0.373311)
bones/37/rotation = Quaternion(-0.0265783, 0.00583729, 4.3422e-05, 0.99963)
bones/38/rotation = Quaternion(-0.00876443, 0.00142327, -0.000118002, 0.999961)
bones/39/rotation = Quaternion(-0.0087806, 0.00132334, 4.98295e-05, 0.999961)
bones/40/rotation = Quaternion(-0.224458, -0.531167, -0.426857, 0.696615)
bones/41/rotation = Quaternion(0.00724697, -0.00351284, -0.00229666, 0.999965)
bones/42/rotation = Quaternion(0.0069344, -0.00414029, -0.00221488, 0.999965)
bones/44/rotation = Quaternion(-0.0272054, -0.000215679, -0.000550762, 0.99963)
bones/45/rotation = Quaternion(-0.00887667, -0.000135839, 0.000217095, 0.999961)
bones/46/rotation = Quaternion(-0.00887868, -0.000105113, 0.000115961, 0.999961)
bones/48/rotation = Quaternion(-0.0269638, -0.00359908, -0.000702932, 0.99963)
bones/49/rotation = Quaternion(-0.113357, -0.00924531, 0.0016838, 0.99351)
bones/50/rotation = Quaternion(-0.113167, -0.0114098, 0.00115113, 0.99351)
bones/52/rotation = Quaternion(-0.0265761, -0.00584638, -0.000163183, 0.99963)
bones/53/rotation = Quaternion(-0.0627997, -0.0212782, 0.00484213, 0.997787)
bones/54/rotation = Quaternion(-0.063613, -0.0188758, 0.00414167, 0.997788)
bones/55/position = Vector3(0.0192949, 0.0935434, -0.0207701)
bones/55/rotation = Quaternion(-7.45058e-08, 0.0328846, 0, 0.999459)
bones/56/rotation = Quaternion(-0.300046, -0.318749, -0.888957, 0.134632)
bones/56/scale = Vector3(0.999312, 1.00005, 0.999635)
bones/57/rotation = Quaternion(-0.000241077, 0.941595, -0.336748, -0.000407532)
bones/57/scale = Vector3(1.00038, 1.00011, 1.00017)
bones/58/rotation = Quaternion(-0.0383201, 0.889432, -0.45404, 0.0359083)
bones/58/scale = Vector3(1.00077, 1.00017, 1.00022)
bones/59/rotation = Quaternion(2.96608e-06, 1, 3.03984e-05, -3.10306e-06)
bones/59/scale = Vector3(1, 1, 1)
bones/60/rotation = Quaternion(9.31323e-09, 4.65661e-09, -1.84773e-08, 1)
bones/60/scale = Vector3(1, 1, 1)
bones/61/rotation = Quaternion(0.582338, -0.226862, -0.750721, -0.214089)
bones/61/scale = Vector3(0.999175, 1.00012, 0.999535)
bones/62/rotation = Quaternion(0.000345881, 0.876561, -0.481291, 0.000581935)
bones/62/scale = Vector3(1.00053, 1.00018, 1.00017)
bones/63/rotation = Quaternion(0.117215, 0.81891, -0.557048, -0.073098)
bones/63/scale = Vector3(1.00071, 1.00001, 1.00004)
bones/64/rotation = Quaternion(2.93447e-06, -1, -3.04282e-05, -3.0293e-06)
bones/64/scale = Vector3(1, 1, 1)
bones/65/rotation = Quaternion(-1.95578e-08, -4.65661e-10, -4.15785e-08, -1)
bones/65/scale = Vector3(1, 1, 1)
bones/66/position = Vector3(0.224089, 0.104967, 0.0775045)
bones/66/rotation = Quaternion(2.56114e-09, -3.49246e-09, -1.63709e-11, 1)

[node name="HeadAttachment" type="BoneAttachment3D" parent="skeleton/Armature/GeneralSkeleton" index="10"]
transform = Transform3D(-0.159411, -0.0597212, 0.985404, -0.904941, -0.390089, -0.170036, 0.39455, -0.918839, 0.00814036, 0.0151482, 0.419255, -1.3053)
bone_name = "Head"
bone_idx = 6

[node name="RemoteTransform3D" type="RemoteTransform3D" parent="skeleton/Armature/GeneralSkeleton/HeadAttachment"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)
remote_path = NodePath("../../../../../Sight")

[node name="ChestAttachment" type="BoneAttachment3D" parent="skeleton/Armature/GeneralSkeleton" index="11"]
transform = Transform3D(0.98292, 0.00283309, 0.184013, -0.181974, 0.164185, 0.969499, -0.0274654, -0.986426, 0.161896, -0.000958, 0.20125, -0.945731)
bone_name = "Chest"
bone_idx = 4

[node name="RemoteTransform3D" type="RemoteTransform3D" parent="skeleton/Armature/GeneralSkeleton/ChestAttachment"]
remote_path = NodePath("../../../../../HitArea")

[node name="Sight" type="RayCast3D" parent="."]
transform = Transform3D(-0.159411, 0.0597213, 0.985404, 0.904941, -0.390089, 0.170036, 0.39455, 0.918839, 0.00814031, -0.0151481, 0.419255, 1.3053)
target_position = Vector3(0, 0, -3)
collision_mask = 524291

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]

[node name="VoicePlayer3D" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.7, 0)
stream = ExtResource("3_top2m")
bus = &"Environment"

[node name="FootstepPlayer3D" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, 0)
stream = ExtResource("4_cqs3q")
pitch_scale = 2.5
bus = &"Environment"

[node name="HitPlayer3D" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.2, -0.1)
stream = ExtResource("5_bsxur")

[node name="HitArea" type="Area3D" parent="."]
transform = Transform3D(-0.98292, -0.002833, -0.184013, -0.181974, 0.164185, 0.969499, 0.0274655, 0.986426, -0.161896, 0.000958082, 0.20125, 0.945731)
collision_layer = 0
collision_mask = 65536

[node name="CollisionShape3D" type="CollisionShape3D" parent="HitArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.25, 0)
shape = SubResource("BoxShape3D_eocio")

[connection signal="animation_finished" from="skeleton/AnimationPlayer" to="." method="_on_animation_finished"]
[connection signal="body_entered" from="HitArea" to="." method="_on_hit_area_body_entered"]

[editable path="skeleton"]
